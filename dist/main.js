(()=>{"use strict";document.querySelector("#search-button").addEventListener("click",(function(){let e=document.getElementById("category").value;fetch("https://openlibrary.org/subjects/"+e+".json").then((e=>e.json())).then((e=>{let t=e.works,n=document.getElementById("books");n.innerHTML="",0===t.length?alert("No books found in the selected category"):console.log(t.length),t.forEach((e=>{let t=e.title,o=e.authors?e.authors.map((e=>e.name)).join(", "):"N/A",r="https://covers.openlibrary.org/b/id/"+e.cover_id+"-M.jpg",c=document.createElement("div");c.className="book";let l=document.createElement("img");l.src=r,l.style.marginTop="20px";let a=document.createElement("h3");a.textContent=t;let d=document.createElement("p");d.textContent="Author(s): "+o;let i=document.createElement("button");i.textContent="More information ",i.style.marginBottom="20px";let s=document.createElement("div");s.className="info",c.appendChild(l),c.appendChild(a),c.appendChild(d),c.appendChild(i),c.appendChild(s),c.addEventListener("click",(function(){var t;t=e.key,fetch("https://openlibrary.org"+t+".json").then((e=>e.json())).then((e=>{let t=e.description?e.description.value:"Description not available";alert(t)})).catch((e=>{console.error("An error occurred:",e)}))})),n.appendChild(c)}))})).catch((e=>{console.error("An error occurred:",e)}))}))})();